## 内容

```
红黑树是一种自平衡二叉查找树，是计算机科学领域中的一种数据结构，典型的用途是实现关联数组，存储有序的数据。
它的操作有着良好的最坏情况运行时间，并且在实践中是高效的。它可以在O(logn)时间内做查找，插入和删除
红黑树和平衡二叉树(AVL树)都是二叉查找树的变体，但红黑树的统计性能要好于AVL树。因为，AVL树是严格维持平衡的，红黑树是黑平衡的
```
## 特性
```
每个结点是黑色或者红色。
根结点是黑色。
每个叶子结点（NIL）是黑色。 [注意：这里叶子结点，是指为空(NIL或NULL)的叶子结点！]
如果一个结点是红色的，则它的子结点必须是黑色的。
每个结点到叶子结点NIL所经过的黑色结点的个数一样的。
```
## 红黑树的旋转和变色
```
左旋：以某个结点作为支点(旋转结点)，其右子结点变为旋转结点的父结点，右子结点的左子结点变为旋转结点的右子结点，其左子结点保持不变。如图2。
右旋：以某个结点作为支点(旋转结点)，其左子结点变为旋转结点的父结点，左子结点的右子结点变为旋转结点的左子结点，其右子结点保持不变。如图3。
变色：结点的颜色由红变黑或由黑变红。
左旋只影响旋转结点和其右子树的结构，把右子树的结点往左子树挪了。
右旋只影响旋转结点和其左子树的结构，把左子树的结点往右子树挪了
```
## 红黑树的插入
```
情景1：
红黑树为空树
最简单的一种情景，直接把插入结点作为根结点就行，但注意，根据红黑树性质2：根结点是黑色。所以还需要把插入结点设为黑色。
情景2:
插入结点的Key已存在，因为红黑树总保持平衡，在插入前红黑树已经是平衡的，那么把插入结点设置为将要替代的结点颜色，再把结点的值更新就完成插入了。
处理：
把z设为当前结点的颜色。
更新当前结点的值为插入结点的值。
情景3：
插入结点的父结点为黑结点
由于插入的结点是红色的，并不会影响红黑树的平衡，直接插入即可，无需做自平衡。
情景4：
插入结点的父结点为红结点
再次回想下红黑树的性质2：根结点是黑色。如果插入的父结点为红结点，那么该父结点不可能为根结点，所以插入结点总是存在祖父结点。这点很重要，因为后续的旋转操作需要祖父结点的参与。
情景4.1：
叔叔结点存在并且为红结点
从红黑树性质4可以确定，祖父结点为黑结点，因为不可以同时存在两个相连的红结点。那么此时该插入子树的红黑层数的情况是：黑红红
```
[参考文档](https://www.cnblogs.com/nananana/p/10434549.html)

