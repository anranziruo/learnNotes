## 内容

### 分库规则
```
分区规则有哈希分区和顺序分区
哈希分区的特点:离散度好，数据分布和业务无关,无法顺序访问
顺序分区的特点:离散度倾斜,和数据业务相关，可以顺序访问
```
#### 哈希分区
```
1.节点取余分区
使用特定的数据，如Redis的键或用户ID，再根据节点数量N使用公式: hash(key)%N计算出哈希值，用来决定数据映射到哪一个节点上
存在的问题:当节点数量变化时，如扩容或收缩节点，数据节点映射关系需要重新计算，会导致数据的重新迁移
这种方式的突出优点是简单性，常用于数据库的分库分表规则，一般采用预分区的方式，提前根据数据量规划好分区数，比如划分为512或1024张表，保证可支撑未来一段时间的数据量
2.一致性哈希分区
一致性哈希分区(Distributed Hash Table)实现思路是为系统中每个节 点分配一个token，范围一般在0~232，这些token构成一个哈希环。数据读写执行节点查找操作时，先根据key计算hash值，然后顺时针找到第一个大于等于该哈希值的token节点
存在的问题:
加减节点会造成哈希环中部分数据无法命中，需要手动处理或者忽略这部分数据，因此一致性哈希常用于缓存场景。
·当使用少量节点时，节点变化将大范围影响哈希环中数据映射，因此这种方式不适合少量数据节点的分布式方案。
·普通的一致性哈希分区在增减节点时需要增加一倍或减去一半节点才能保证数据和负载的均衡
3.虚拟槽分区
```