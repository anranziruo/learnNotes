## 内容

### 惰性策略
```
客户端访问 Key 时, 先进行过期判断, 如果已经过期立即删除.
```
### 定时删除
```
Redis 将设置了过期时间的 key 放在一个独立的字典中
没 10s 扫描一次此字典, 随机取 20 个 key
删除这 20 个 key 中的已经过期 key
如果已经过期的 key 占比超过 1/4, 则重复步骤 2-4
```
### 某一个时刻大量 key 过期, 影响单线程的 redis 读写操作怎么办
```
1.业务开发人员在设置过期时间时, 建议加上一个随机值, 避免在同一时间过期
2.删除过期的key的时候，使用延时策略来定制
```
### 删除大key怎么办?
```
使用上尽量避免大 key 的产生
Redis 4.0 版本引入了 unlink 指令, 对删除操作懒处理, 交给异步线程执行
```